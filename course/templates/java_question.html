{% extends 'base.html' %}
{% load static %}

{% block script %}
    <link rel="stylesheet" href="{% static 'highlight/9.18.1/styles/default.min.css' %}"/>
    <script src="{% static 'highlight/9.18.1/highlight.min.js' %}"></script>
    <script>hljs.initHighlightingOnLoad();</script>
{% endblock %}

{% block content %}
    <h1>{{ question.title }}</h1>
    <h2>Statement</h2>
    <div>{% autoescape off %}{{ question.text }}{% endautoescape %}</div>
    <h2>Submissions</h2>
    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Code</th>
            <th scope="col">Grade</th>
            <th scope="col">Status</th>
            <th scope="col">Details</th>
        </tr>
        </thead>
        <tbody>
        {% for submission in submissions reversed %}
            <tr class="table-{{ submission.status_color }}">
                <th scope="row">{{ forloop.revcounter }}</th>
                <td>{{ submission.code }}</td>
                <td>{{ submission.grade }}</td>
                <td>{{ submission.status }}</td>
                <td><button class="btn btn-info" onclick="window.location.href='{% url 'course:submission_detail' submission.pk %}'">Details</button></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <h2>Submit Answer</h2>
    <div>
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="">
                    <a href="#1" aria-controls="1" role="tab" data-toggle="tab">
                        <button class="btn btn-primary m-1">Text</button>
                    </a>
                </li>
                <li role="presentation" class="">
                    <a href="#2" aria-controls="2" role="tab" data-toggle="tab">
                        <button class="btn btn-primary m-1">File</button>
                    </a>
                </li>
            </ul>

            <div class="tab-content">
                <div role="tabpanel" class="tab-pane active" id="1">
                    <div class="form-group">
                        <label for="answer-text">Submit Java Code as Text</label>
                        <textarea name="answer-text" id="answer-text" class="form-control"> </textarea>
                    </div>
                </div>
                <div role="tabpanel" class="tab-pane" id="2">
                    <div class="form-group">
                        <label for="answer-file">Submit a Java File</label>
                        <input type="file" name="answer-file" id="answer-file" class="form-control">
                    </div>
                </div>
            </div>


            <div class="form-group row ml-0">
                <button type="submit" class="btn btn-success"> Submit</button>
            </div>
        </form>
    </div>
{% endblock %}